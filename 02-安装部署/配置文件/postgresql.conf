# Do not edit this file manually!
# It will be overwritten by Patroni!
include 'postgresql.base.conf'

archive_command = 'scp %p 10.63.20.204:/pgwal/archive_wals/%f'
archive_mode = 'on'
archive_timeout = '1800s'
cluster_name = 'pgcluster2'
hot_standby = 'on'
listen_addresses = '0.0.0.0'
log_destination = 'csvlog'
log_filename = 'postgresql-%Y-%m-%d'
logging_collector = 'on'
maintenance_work_mem = '10GB'
max_connections = '1000'
max_locks_per_transaction = '256'
max_prepared_transactions = '4096'
max_replication_slots = '10'
max_wal_senders = '10'
max_wal_size = '80GB'
max_worker_processes = '256'
min_wal_size = '20GB'
port = '5432'
shared_buffers = '128GB'
shared_preload_libraries = 'pg_stat_statements,pg_repack,pg_cron'
synchronous_standby_names = 'pg03'
track_commit_timestamp = 'off'
wal_buffers = '1GB'
wal_keep_size = '20GB'
wal_level = 'replica'
wal_log_hints = 'on'
work_mem = '32MB'
hba_file = '/pgdata/pg13/pg_hba.conf'
ident_file = '/pgdata/pg13/pg_ident.conf'

# recovery.conf
primary_conninfo = 'user=replicator passfile=/home/postgres/.pgpass host=10.63.20.205 port=5432 sslmode=prefer application_name=pg01 gssencmode=prefer channel_binding=prefer'
primary_slot_name = 'pg01'
recovery_target = ''
recovery_target_lsn = ''
recovery_target_name = ''
recovery_target_time = ''
recovery_target_timeline = 'latest'
recovery_target_xid = ''
restore_command = '/bin/true'
